import{c as t,L as e,h as s}from"./vendor.62a16848.js";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(t,e,s)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,a=(t,e)=>{for(var s in e||(e={}))r.call(e,s)&&o(t,s,e[s]);if(i)for(var s of i(e))l.call(e,s)&&o(t,s,e[s]);return t};function u(t){return t.split(/(?=[A-Z])/).join("-").toLowerCase()}class d{constructor(){this.update=()=>{},this.onCreate=t=>{}}renderDom(){return h(this.render())}}function h(t){return t instanceof c?t:h(t.render())}class c extends d{constructor(t){var e;if(super(),this.props=t,this.attributes={},this.styles={},this._children=[],this._events={},this.toString=()=>function(t){const e=[];if(e.push(`new ${t.constructor.name}({`),t.text&&e.push(`text: "${t.text}"`),t.styles){const s=Object.entries(t.styles).filter((t=>t[1].value)).map((([t,e])=>`"${t}": "${e.value}"`));if(s.length>0){e.push("styles: {");for(const t of s)e.push(`${t},`);e.push("},")}}if(t.attributes){const s=Object.entries(t.attributes).filter((t=>t[1].value)).filter((t=>t[1].value)).map((([t,e])=>`"${t}": "${e.value}"`));if(s.length>0){e.push("attributes: {");for(const t of s)e.push(`${t},`);e.push("},")}}if(t.children&&t.children.length>0){e.push("children: {");for(const s of t.children){const t=s.toString();e.push(`${t},`)}e.push("},")}return e.push("})"),e.join("")}(this),this._node=t.node,t.text&&(this.text=t.text),this.children=[...null!=(e=null==t?void 0:t.children)?e:[]],this.attributes={id:new f(this,"id",null==t?void 0:t.id),className:new f(this,"class",m(null==t?void 0:t.className)),contentEditable:new f(this,"contenteditable",null==t?void 0:t.contenteditable),accesskey:new f(this,"accesskey",null==t?void 0:t.accesskey),autocapitalize:new f(this,"autocapitalize",null==t?void 0:t.autocapitalize),dir:new f(this,"dir",null==t?void 0:t.dir),draggable:new f(this,"draggable",null==t?void 0:t.draggable),enterkeyhint:new f(this,"enterkeyhint",null==t?void 0:t.enterkeyhint),hidden:new f(this,"hidden",null==t?void 0:t.hidden),inputmode:new f(this,"inputmode",null==t?void 0:t.inputmode),is:new f(this,"is",null==t?void 0:t.is),lang:new f(this,"lang",null==t?void 0:t.lang),nonce:new f(this,"nonce",null==t?void 0:t.nonce),part:new f(this,"part",null==t?void 0:t.part),slot:new f(this,"slot",null==t?void 0:t.slot),spellcheck:new f(this,"spellcheck",null==t?void 0:t.spellcheck),style:new f(this,"style",v(null==t?void 0:t.style)),tabindex:new f(this,"tabindex",null==t?void 0:t.tabindex),title:new f(this,"title",null==t?void 0:t.title),translate:new f(this,"translate",null==t?void 0:t.translate)},t.attributes)for(const[s,n]of Object.entries(t.attributes))this.addAttr(s,n);if(t.style)for(const[s,n]of Object.entries(t.style))this.addStyle(s,n);if(t.events)for(const[s,n]of Object.entries(t.events))this.addEventListener(s,n)}addAttr(t,e){e&&("string"==typeof e||"boolean"==typeof e||"number"==typeof e?this.attributes[t]=new f(this,t,e):e&&(this.attributes[t]=e))}setAttr(t,e){this.attributes[t]||this.addAttr(t,e),this.attributes[t].value=e}addStyle(t,e){e&&("string"==typeof e?this.styles[t]=new g(this,t,e):e&&(this.styles[t]=e))}setStyle(t,e){this.styles[t]||this.addStyle(t,e),this.styles[t].value=e}render(){return this}get node(){return p(this)}get children(){return this._children}set children(t){this._children=t,this.update()}addChild(t,e){const s=this.children;e?s.splice(e,0,t):s.push(t),this.children=s}removeChild(t){const e=this.children;e.splice(t,1),this.children=e}get text(){return this._text}set text(t){this._text=t,t&&(this._node.innerText=t)}addEventListener(t,e,s){e&&(this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,options:s}))}}function p(t){const e=document.createElement(t._node.tagName);t.text&&(e.textContent=t.text);for(const s of t.children)if(s instanceof d){let t=p(s.renderDom());s.update=()=>{const n=p(s.renderDom());null==e||e.replaceChild(n,t),t=n},e.appendChild(t)}else e.append(s);if(t.styles)for(const[s,n]of Object.entries(t.styles).filter((t=>t[1].value)))e.style.setProperty(s,n.value);if(t.attributes)for(const[s,n]of Object.entries(t.attributes).filter((t=>t[1].value))){const t=n.value;t&&("string"==typeof t?e.setAttribute(s,t):"number"==typeof t?e.setAttribute(s,`${t}`):"boolean"==typeof t&&t&&e.setAttribute(s,s))}for(const[s,n]of Object.entries(t._events))for(const t of n)e.addEventListener(s,t.callback,t.options);return t.props.onCreate&&t.props.onCreate(e),e}function v(t){if(t){if("string"==typeof t)return t;const e=[];for(const[s,n]of Object.entries(t)){const t=u(s);e.push(`${t}: ${n};`)}return e.join(" ")}}class f{constructor(t,e,s){this._root=t,this._key=u(e),this._value=null!=s?s:null,this.update()}get value(){return this._value}set value(t){this._value=t,this.update()}update(){if(null!==this.value)return"string"==typeof this.value?(this.node.setAttribute(this._key,this.value),void this._root.update()):"boolean"==typeof this.value&&this.value||"number"==typeof this.value&&this.value?(this.node.setAttribute(this._key,this._key),void this._root.update()):void 0;this.clear()}clear(){this.node.removeAttribute(this._key),this._root.update()}get node(){return this._root.renderDom().node}}class y extends c{constructor(t={}){super(a({node:document.createElement("div")},t))}}class b extends y{constructor(t={styles:{display:"unset"}}){super(t)}}class w extends b{constructor(t={styles:{display:"flex"}}){super(t)}}class x extends w{constructor(t={styles:{flexDirection:"row",display:"flex"}}){super(t)}}function m(t){if(t)return"string"==typeof t?t:t.join(" ")}class g{constructor(t,e,s){this._root=t,this._key=u(e),this._value=null!=s?s:null,this.update()}get value(){return this._value}set value(t){this._value=t,this.update()}update(){if(null!==this.value)return"string"==typeof this.value?(this.node.style.setProperty(this._key,this.value),void this._root.update()):void 0;this.clear()}clear(){this.node.style.setProperty(this._key,null),this._root.update()}get node(){return this._root.renderDom().node}}class _ extends c{constructor(t={}){super(a({node:document.createElement("button")},t))}}class k extends c{constructor(t={}){super(a({node:document.createElement("canvas")},t))}}class j extends c{constructor(t={}){super(a({node:document.createElement("h1")},t))}}new DOMParser;class O extends d{constructor(){super(...arguments),this.render=()=>new y({children:[new j({text:"Counter Example"}),new C,new $]})}}class C extends d{constructor(){super(...arguments),this.value=0}render(){return new y({style:{margin:"5px"},children:[`${this.value}`,new x({children:[new _({text:"-",style:{width:"50px"},events:{click:()=>{this.value-=1,this.update()}}}),new _({text:"+",style:{width:"50px",marginLeft:"5px"},events:{click:()=>{this.value+=1,this.update()}}})]})]})}}class $ extends d{render(){return new k({style:{width:"200px",height:"200px"},onCreate:t=>{const e=t.getContext("2d");var s=e.createRadialGradient(75,50,5,90,60,100);s.addColorStop(0,"red"),s.addColorStop(1,"white"),e.fillStyle=s,e.fillRect(10,10,150,80)}})}}var A=Object.defineProperty,E=Object.getOwnPropertyDescriptor;let S=class extends e{constructor(){super(...arguments),this.app=new O}render(){const t=this.app.render().node;return s`${t}`}};S=((t,e,s,n)=>{for(var i,r=n>1?void 0:n?E(e,s):e,l=t.length-1;l>=0;l--)(i=t[l])&&(r=(n?i(e,s,r):i(r))||r);return n&&r&&A(e,s,r),r})([t("my-element")],S);
