{"version":3,"file":"object-dom.es5.js","sources":["../src/base.ts","../src/dom/div.ts","../src/dom/text.ts","../src/dom/button.ts"],"sourcesContent":["import { Style } from './styles';\nexport * from './styles';\n\ntype NodeArray = Array<ObjectDom<HTMLElement> | string>\n\nfunction applyNodeStyle(node: HTMLElement, style: Style) {\n  for (const [key, value] of Object.entries(style)) {\n    node.style.setProperty(key, value)\n  }\n}\n\nexport class ObjectDom<T extends HTMLElement> {\n  constructor(node: T, style: Style, children: NodeArray) {\n    this._node = node\n    this._style = style\n    this._children = []\n    this.updateStyle();\n    for (const child of children) this.addChild(child)\n  }\n\n  private _node: T\n  public get node(): T {\n    return this._node\n  }\n\n  private _style: Style\n  public get style(): Style {\n    return this._style\n  }\n  public set style(value: Style) {\n    this._style = value\n    this.updateStyle();\n  }\n\n  updateStyle() {\n    applyNodeStyle(this.node, this.style)\n  }\n\n  private _children: NodeArray\n  public get children(): NodeArray {\n    return this._children\n  }\n  public addChild(value: ObjectDom<HTMLElement> | string) {\n    this._children.push(value)\n    if (value instanceof ObjectDom) {\n      this._node.append(value.node)\n    } else {\n      this._node.append(value)\n    }\n  }\n}\n\nexport function render(source: ObjectDom<HTMLElement>, target: HTMLElement = document.body) {\n  target.innerHTML = ''\n  target.appendChild(source.node)\n  console.log('render node', target, source)\n}\n","import { ObjectDom, Style } from '../base'\n\nclass Div extends ObjectDom<HTMLDivElement> {\n    constructor(\n        props: { style: Style; children: Array<ObjectDom<HTMLElement>> } = { style: {}, children: [] }\n    ) {\n        super(document.createElement('div'), props?.style ?? {}, props?.children ?? [])\n    }\n}\n\nclass Flex extends Div {\n    constructor(\n        props: { style: Style; children: Array<ObjectDom<HTMLElement>> } = { style: {}, children: [] }\n    ) {\n        super(props)\n        this.node.style.display = 'flex'\n    }\n}\n\nclass Row extends Flex {\n    constructor(\n        props: { style: Style; children: Array<ObjectDom<HTMLElement>> } = { style: {}, children: [] }\n    ) {\n        super(props);\n        this.node.style.flexDirection = 'row'\n    }\n}\n\nclass Column extends Flex {\n    constructor(\n        props: { style: Style; children: Array<ObjectDom<HTMLElement>> } = { style: {}, children: [] }\n    ) {\n        super(props)\n        this.node.style.flexDirection = 'column'\n    }\n}\n\nclass Grid extends Div {\n    constructor(\n        props: { style: Style; children: Array<ObjectDom<HTMLElement>> } = { style: {}, children: [] }\n    ) {\n        super(props)\n        this.node.style.display = 'grid'\n    }\n}\n\nclass Block extends Div {\n    constructor(\n        props: { style: Style; children: Array<ObjectDom<HTMLElement>> } = { style: {}, children: [] }\n    ) {\n        super(props)\n        this.node.style.display = 'block'\n    }\n}\n\nclass Inline extends Div {\n    constructor(\n        props: { style: Style; children: Array<ObjectDom<HTMLElement>> } = { style: {}, children: [] }\n    ) {\n        super(props)\n        this.node.style.display = 'inline'\n    }\n}\n\nclass InlineBlock extends Div {\n    constructor(\n        props: { style: Style; children: Array<ObjectDom<HTMLElement>> } = { style: {}, children: [] }\n    ) {\n        super(props)\n        this.node.style.display = 'inline-block'\n    }\n}\n\nexport { Div, Flex, Row, Column, Grid, Block, Inline, InlineBlock }\n","import { ObjectDom, Style } from '../base'\n\nexport class Text extends ObjectDom<HTMLElement> {\n  constructor(value: string, props: { style?: Style } = {}) {\n    super(document.createElement('p'), props?.style ?? {}, [])\n    this._value = this.node.innerText = value\n  }\n\n  private _value: string\n  public get value(): string {\n    return this._value\n  }\n  public set value(value: string) {\n    this._value = value\n    this.node.innerText = value\n  }\n}\n","import { ObjectDom, Style } from '../base'\n\nexport class Button extends ObjectDom<HTMLButtonElement> {\n    constructor(value: string, props: { style?: Style; children?: Array<ObjectDom<HTMLElement>> }) {\n        super(document.createElement('button'), props?.style ?? {}, props?.children ?? [])\n        this._value = this.node.innerText = value\n        this.node.addEventListener('click', () => this.onClick());\n    }\n\n    private _value: string\n    public get value(): string {\n        return this._value\n    }\n    public set value(value: string) {\n        this._value = value\n        this.node.innerText = value\n    }\n\n    onClick: Function = () => { };\n}\n"],"names":[],"mappings":"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"}