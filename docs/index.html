<!DOCTYPE html>
<html lang="en">
  <head>
    <base href="/object-dom/" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <title>Example</title>
    <link
      href="https://fonts.googleapis.com/css?family=Material+Icons&display=block"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
    <script
      src="https://unpkg.com/playground-elements@0.8.0/playground-ide.js?module"
      type="module"
    ></script>

    <style>
      body {
        margin: 0;
        padding: 0;
      }
      playground-ide {
        width: 100%;
        height: 100vh;
      }
    </style>
  </head>

  <body>
    <script>
      (() => {
        const _define = window.customElements.define.bind(window.customElements);
        window.customElements.define = ((tagName, klass) => {
          try {
            return _define(tagName, klass);
          } catch (err) {
            console.warn(err);
          }
        }).bind(window.customElements);
      })();
    </script>
    <playground-ide editable-filesystem line-numbers resizable>
      <script type="sample/html" filename="index.html">
<!doctype html>
<body>
    <div id="root"></div>
    <script type="module" src="./index.js">&lt;/script>
</body>
      </script>

      <script type="sample/ts" filename="index.ts">
import { ObjectDom, Div, H1, Button, Row, render } from 'object-dom';

class MyApp extends ObjectDom {
    constructor() { super() }
    render = () => {
        return new Div({
            children: [
                new H1({ text: 'Counter Example' }),
                new Counter(),
            ]
        });
    }
}

class Counter extends ObjectDom {
    value = 0;
    render = () => {
        return new Div({
            style: { padding: '5px' },
            children: [
                `${this.value}`,
                new Row({
                    children: [
                        new Button({
                            text: '-',
                            style: { width: '50px' },
                            onClick: () => {
                                this.value -= 1;
                                this.update();
                            }
                        }),
                        new Button({
                            text: '+',
                            style: { width: '50px', marginLeft: '5px' },
                            onClick: () => {
                                this.value += 1;
                                this.update();
                            }
                        })
                    ]
                })
            ]
        });
    }
}

render(new MyApp(), document.body.querySelector('#root'));
      </script>
    </playground-ide>
  </body>
</html>
